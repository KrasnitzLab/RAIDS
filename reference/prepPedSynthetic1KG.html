<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract the sample information from the 1KG GDS file for a list
of profiles associated to a specific study in the Profile GDS file — prepPedSynthetic1KG • RAIDS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract the sample information from the 1KG GDS file for a list
of profiles associated to a specific study in the Profile GDS file — prepPedSynthetic1KG"><meta property="og:description" content="The function extracts the information for the profiles
associated to a specific study in the GDS Sample file. The information is
extracted from the 'study.annot' node as a 'data.frame'.
Then, the function used the 1KG GDS file to extract specific information
about each sample and add it, as an extra column, to the 'data.frame'.
As example, this function can extract the synthetic profiles
for a GDS Sample and the super-population of the 1KG samples used to
generate each synthetic profile would be added
as an extra column to the final 'data.frame'."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RAIDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/RAIDS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Create_Reference_GDS_File.html">Population reference dataset GDS files</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/KrasnitzLab/RAIDS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract the sample information from the 1KG GDS file for a list
of profiles associated to a specific study in the Profile GDS file</h1>
    <small class="dont-index">Source: <a href="https://github.com/KrasnitzLab/RAIDS/blob/HEAD/R/synthetic_internal.R" class="external-link"><code>R/synthetic_internal.R</code></a></small>
    <div class="hidden name"><code>prepPedSynthetic1KG.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function extracts the information for the profiles
associated to a specific study in the GDS Sample file. The information is
extracted from the 'study.annot' node as a 'data.frame'.</p>
<p>Then, the function used the 1KG GDS file to extract specific information
about each sample and add it, as an extra column, to the 'data.frame'.</p>
<p>As example, this function can extract the synthetic profiles
for a GDS Sample and the super-population of the 1KG samples used to
generate each synthetic profile would be added
as an extra column to the final 'data.frame'.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prepPedSynthetic1KG</span><span class="op">(</span><span class="va">gdsReference</span>, <span class="va">gdsSample</span>, <span class="va">studyID</span>, <span class="va">popName</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>gdsReference</dt>
<dd><p>an object of class
<code><a href="https://rdrr.io/pkg/gdsfmt/man/gds.class.html" class="external-link">gdsfmt::gds.class</a></code>, the opened 1 KG GDS file.</p></dd>


<dt>gdsSample</dt>
<dd><p>an object of class
<code><a href="https://rdrr.io/pkg/gdsfmt/man/gds.class.html" class="external-link">gdsfmt::gds.class</a></code>, the opened Profile GDS
file.</p></dd>


<dt>studyID</dt>
<dd><p>a <code>character</code> string representing the name of the
study that will be extracted from the GDS Sample 'study.annot' node.</p></dd>


<dt>popName</dt>
<dd><p>a <code>character</code> string representing the name of the
column from the <code>data.frame</code> stored in the 'sample.annot' node of the
1KG GDS file. The column must be present in the <code>data.frame</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>data.frame</code> containing the columns extracted from the
GDS Sample 'study.annot' node with a extra column named as the 'popName'
parameter that has been extracted from the 1KG GDS 'sample.annot' node.
Only the rows corresponding to the specified study ('studyID' parameter)
are returned.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>As example, this function can extract the synthetic profiles
for a Profile GDS and the super-population of the 1KG samples used to
generate each synthetic profile would be added
as an extra column to the final 'data.frame'. In that situation, the
'popName' parameter would correspond to the super-population column and the
'studyID' parameter would be the name given to the synthetic dataset.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Pascal Belleau, Astrid Deschênes and Alexander Krasnitz</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Required library</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/zhengxwen/gdsfmt" class="external-link">gdsfmt</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The open 1KG GDS file is required (this is a demo file)</span></span></span>
<span class="r-in"><span><span class="va">dataDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package<span class="op">=</span><span class="st">"RAIDS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gds_1KG_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"1KG_Demo.gds"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gds1KG</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gdsfmt/man/openfn.gds.html" class="external-link">openfn.gds</a></span><span class="op">(</span><span class="va">gds_1KG_file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fileSampleGDS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"GDS_Sample_with_study_demo.gds"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">gdsSample</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gdsfmt/man/openfn.gds.html" class="external-link">openfn.gds</a></span><span class="op">(</span><span class="va">fileSampleGDS</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Extract the study information for "TCGA.Synthetic" study present in the</span></span></span>
<span class="r-in"><span><span class="co">## Profile GDS file and merge column "superPop" from 1KG GDS to the</span></span></span>
<span class="r-in"><span><span class="co">## returned data.frame</span></span></span>
<span class="r-in"><span><span class="co">## This function enables to extract the super-population associated to the</span></span></span>
<span class="r-in"><span><span class="co">## 1KG samples that has been used to create the synthetic profiles</span></span></span>
<span class="r-in"><span><span class="fu">RAIDS</span><span class="fu">:::</span><span class="fu">prepPedSynthetic1KG</span><span class="op">(</span>gdsReference<span class="op">=</span><span class="va">gds1KG</span>, gdsSample<span class="op">=</span><span class="va">gdsSample</span>,</span></span>
<span class="r-in"><span>    studyID<span class="op">=</span><span class="st">"TCGA.Synthetic"</span>, popName<span class="op">=</span><span class="st">"superPop"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   data.id case.id sample.type diagnosis</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00101.Synthetic.01 HG00101.Synthetic.01 HG00101   Synthetic         C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00101.Synthetic.02 HG00101.Synthetic.02 HG00101   Synthetic         C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00102.Synthetic.02 HG00102.Synthetic.02 HG00102   Synthetic         C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00109.Synthetic.02 HG00109.Synthetic.02 HG00109   Synthetic         C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         source       study.id superPop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00101.Synthetic.01 Synthetic TCGA.Synthetic      AFR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00101.Synthetic.02 Synthetic TCGA.Synthetic      AFR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00102.Synthetic.02 Synthetic TCGA.Synthetic      AFR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HG00109.Synthetic.02 Synthetic TCGA.Synthetic      AFR</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The GDS files must be closed</span></span></span>
<span class="r-in"><span><span class="fu">gdsfmt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gdsfmt/man/closefn.gds.html" class="external-link">closefn.gds</a></span><span class="op">(</span><span class="va">gds1KG</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gdsfmt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gdsfmt/man/closefn.gds.html" class="external-link">closefn.gds</a></span><span class="op">(</span><span class="va">gdsSample</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Pascal Belleau, Astrid Deschênes, Alexander Krasnitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

