<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run a PCA analysis and a K nearest neighbor analysis on a small set
of synthetic data — computePoolSyntheticAncestryGr • RAIDS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run a PCA analysis and a K nearest neighbor analysis on a small set
of synthetic data — computePoolSyntheticAncestryGr"><meta property="og:description" content="The function runs a PCA analysis using 1 synthetic profile
from each sub-continental population. The reference samples used to
create those synthetic profiles are first removed from the 1KG list
of samples that generates the reference PCA. Then, the retained synthetic
profiles are projected on the 1KG PCA space. Finally, a K nearest neighbor
analysis using a range of K and D values is done."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RAIDS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.50.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Create_1KG_GDS_File.html">Formatting the information from 1000 Genomes (optional)</a>
    </li>
    <li>
      <a href="../articles/aicsPaper.html">Accurate Inference of Genetic Ancestry from Cancer-derived Sequences</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/KrasnitzLab/RAIDS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run a PCA analysis and a K nearest neighbor analysis on a small set
of synthetic data</h1>
    <small class="dont-index">Source: <a href="https://github.com/KrasnitzLab/RAIDS/blob/HEAD/R/processStudy.R" class="external-link"><code>R/processStudy.R</code></a></small>
    <div class="hidden name"><code>computePoolSyntheticAncestryGr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function runs a PCA analysis using 1 synthetic profile
from each sub-continental population. The reference samples used to
create those synthetic profiles are first removed from the 1KG list
of samples that generates the reference PCA. Then, the retained synthetic
profiles are projected on the 1KG PCA space. Finally, a K nearest neighbor
analysis using a range of K and D values is done.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">computePoolSyntheticAncestryGr</span><span class="op">(</span></span>
<span>  <span class="va">gdsSample</span>,</span>
<span>  <span class="va">sampleRM</span>,</span>
<span>  <span class="va">spRef</span>,</span>
<span>  <span class="va">study.id.syn</span>,</span>
<span>  np <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  listCatPop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EAS"</span>, <span class="st">"EUR"</span>, <span class="st">"AFR"</span>, <span class="st">"AMR"</span>, <span class="st">"SAS"</span><span class="op">)</span>,</span>
<span>  fieldPopIn1KG <span class="op">=</span> <span class="st">"superPop"</span>,</span>
<span>  fieldPopInfAnc <span class="op">=</span> <span class="st">"SuperPop"</span>,</span>
<span>  kList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">15</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  pcaList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">15</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  algorithm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"exact"</span>, <span class="st">"randomized"</span><span class="op">)</span>,</span>
<span>  eigen.cnt <span class="op">=</span> <span class="fl">32L</span>,</span>
<span>  missing.rate <span class="op">=</span> <span class="fl">0.025</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>gdsSample</dt>
<dd><p>an object of class
<code><a href="https://rdrr.io/pkg/SNPRelate/man/SNPGDSFileClass-class.html" class="external-link">SNPRelate::SNPGDSFileClass</a></code>, the
GDS Sample file.</p></dd>


<dt>sampleRM</dt>
<dd><p>a <code>vector</code> of <code>character</code> strings representing
the identifiers of the 1KG reference samples that should not be used to
create the reference PCA.</p></dd>


<dt>spRef</dt>
<dd><p>TODO</p></dd>


<dt>study.id.syn</dt>
<dd><p>a <code>character</code> string corresponding to the study
identifier.
The study identifier must be present in the GDS Sample file.</p></dd>


<dt>np</dt>
<dd><p>a single positive <code>integer</code> representing the number of
threads. Default: <code>1L</code>.</p></dd>


<dt>listCatPop</dt>
<dd><p>a <code>vector</code> of <code>character</code> string
representing the list of possible ancestry assignations. Default:
<code>("EAS", "EUR", "AFR", "AMR", "SAS")</code>.</p></dd>


<dt>fieldPopIn1KG</dt>
<dd><p>TODO. Default: <code>"superPop"</code>.</p></dd>


<dt>fieldPopInfAnc</dt>
<dd><p>a <code>character</code> string representing the name of
the column that will contain the inferred ancestry for the specified
dataset. Default: <code>"SuperPop"</code>.</p></dd>


<dt>kList</dt>
<dd><p>a <code>vector</code> of <code>integer</code> representing  the list of
values tested for the  _K_ parameter. The _K_ parameter represents the
number of neighbors used in the K-nearest neighbor analysis. If <code>NULL</code>,
the value <code>seq(2,15,1)</code> is assigned.
Default: <code>seq(2,15,1)</code>.</p></dd>


<dt>pcaList</dt>
<dd><p>a <code>vector</code> of <code>integer</code> representing  the list of
values tested for the  _D_ parameter. The _D_ parameter represents the
number of dimensions used in the PCA analysis.  If <code>NULL</code>,
the value <code>seq(2,15,1)</code> is assigned.
Default: <code>seq(2,15,1)</code>.</p></dd>


<dt>algorithm</dt>
<dd><p>a <code>character</code> string representing the algorithm used
to calculate the PCA. The 2 choices are "exact" (traditional exact
calculation) and "randomized" (fast PCA with randomized algorithm
introduced in Galinsky et al. 2016). Default: <code>"exact"</code>.</p></dd>


<dt>eigen.cnt</dt>
<dd><p>a single <code>integer</code> indicating the number of
eigenvectors that will be in the output of the <a href="https://rdrr.io/pkg/SNPRelate/man/snpgdsPCA.html" class="external-link">snpgdsPCA</a>
function; if 'eigen.cnt' &lt;= 0, then all eigenvectors are returned.
Default: <code>32L</code>.</p></dd>


<dt>missing.rate</dt>
<dd><p>a <code>numeric</code> value representing the threshold
missing rate at with the SNVs are discarded; the SNVs are retained in the
<a href="https://rdrr.io/pkg/SNPRelate/man/snpgdsPCA.html" class="external-link">snpgdsPCA</a> function
with "&lt;= missing.rate" only; if <code>NaN</code>, no missing threshold.
Default: <code>0.025</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code>list</code> TODO with the sample.id and eigenvectors
and a table with KNN call for different K and pca dimension.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Galinsky KJ, Bhatia G, Loh PR, Georgiev S, Mukherjee S, Patterson NJ,
Price AL. Fast Principal-Component Analysis Reveals Convergent Evolution
of ADH1B in Europe and East Asia. Am J Hum Genet. 2016 Mar 3;98(3):456-72.
doi: 10.1016/j.ajhg.2015.12.022. Epub 2016 Feb 25.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Pascal Belleau, Astrid Deschênes and Alexander Krasnitz</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># TODO</span></span></span>
<span class="r-in"><span><span class="va">listEigenvector</span> <span class="op">&lt;-</span> <span class="st">"TOTO"</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Pascal Belleau, Astrid Deschênes, Alexander Krasnitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

